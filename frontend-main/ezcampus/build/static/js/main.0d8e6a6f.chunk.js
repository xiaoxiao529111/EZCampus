(this.webpackJsonpezcampus=this.webpackJsonpezcampus||[]).push([[0],{158:function(e,t,a){},352:function(e,t,a){},373:function(e,t,a){},377:function(e,t,a){},438:function(e,t){},474:function(e,t){},476:function(e,t){},487:function(e,t){},489:function(e,t){},514:function(e,t){},516:function(e,t){},517:function(e,t){},523:function(e,t){},525:function(e,t){},543:function(e,t){},545:function(e,t){},557:function(e,t){},560:function(e,t){},563:function(e,t,a){},564:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){},567:function(e,t,a){},568:function(e,t,a){},589:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),i=a.n(s),o=a(26),c=a.n(o),r=a(340),l=a(21),d=a(22),h=a(24),p=a(23),u=a(595),j=a(606),m=a(87),b=a(31),x=a(608),g=a(609),f=a(610),O=a(611),v=(a(351),"data:image/png;base64,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"),y=a(45),C=(a(352),a(20)),S=a.n(C),w=a(312),k={email:"",userName:"",isLoggedIn:!1,showPromptLogIn:!1,posts:[],currentSelectedPostType:null,isLoading:!1,avatarlink:""},N=Object(w.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"setEmailAndUserName":return a.email=t.data.email,a.userName=t.data.userName,a.avatarlink=t.data.avatarlink,a.isLoggedIn=!0,a.isLoading=!1,a;case"setEmail":return a.email=t.data.email,a;case"setUserName":return a.userName=t.data.userName,a;case"updateAvatarlink":return a.avatarlink=t.data.avatarlink,a;case"unsetEmailAndUserName":return a.email="",a.userName="",a.avatarlink="",a.isLoggedIn=!1,a;case"setShowPromptLogIn":return a.showPromptLogIn=!0,a;case"unsetShowPromptLogIn":return a.showPromptLogIn=!1,a;case"setPosts":return a.posts=t.data.posts,a;case"addPost":var n=[t.data.newPost];return a.posts=n.concat(a.posts),a;case"deletePost":var s=t.data.targetPostId;return a.posts=a.posts.filter((function(e){return e.postId!=s})),a;case"setSelectedPostType":return a.currentSelectedPostType=t.data.postType,a;case"unsetCurrentPostType":return a.currentSelectedPostType=null,a;case"setIsLoading":return a.isLoading=t.data.isLoading,a;default:return e}})),I=a(56),P=a(46),A="https://server.metaraw.world",E=Object(n.jsx)(I.a,{icon:P.f}),T=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlePasswordDisplay=function(){n.setState((function(e){return{isShowPassword:!e.isShowPassword}}))},n.handleRememberUser=function(){n.setState((function(e){return{rememberUser:!e.rememberUser}}))},n.handleEmailChange=function(e){n.setState({email:e.target.value})},n.handleUserNameChange=function(e){n.setState({username:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.handleLogin=function(e){e.preventDefault();var t=n.state,a=t.email,s=t.password;S.a.post("".concat(A,"/users/email_login"),{email:a,password:s}).then((function(e){if(200===e.data.statusCode){var t={type:"setEmailAndUserName",data:{email:e.data.user.email,userName:e.data.user.userName,avatarlink:e.data.user.avatarlink}};N.dispatch(t),n.props.closePopup(),n.state.rememberUser&&(localStorage.setItem("ezcampus_user_email",n.state.email),localStorage.setItem("ezcampus_user_password",n.state.password))}})).catch((function(e){if(console.log(e.response),e.response)switch(e.response.status){case 404:return void alert("user not found");case 403:return void alert("wrong password");default:return}}))},n.handleSignUp=function(e){e.preventDefault();var t=n.state,a=t.email,s=t.username,i=t.password;S.a.post("".concat(A,"/users/email_register"),{email:a,userName:s,password:i}).then((function(e){if(200===e.data.statusCode){var t={type:"setEmailAndUserName",data:{email:a,userName:s}};N.dispatch(t),S.a.post("".concat(A,"/users/profile/save"),{loginEmail:a,userName:s,aboutMe:"",avatarlink:"",city:"",contactEmail:"",phone:"",state:""}).then((function(e){200===e.data.statusCode&&console.log("profile has been saved")})),n.props.closePopup(),n.state.rememberUser&&localStorage.setItem("ezcampus_user_auto_login",{email:n.state.email,password:n.state.password})}})).catch((function(e){if(e.response){var t=e.response;403===t.status&&(console.log(t.data),alert(t.data.message))}}))},n.handleEmailVerification=function(){alert("Email Verification -- not implement")},n.state={isSwitch:!1,isShowPassword:!1,email:"",username:"",password:"",value:{},rememberUser:!0},n.handleLoginSwitch=n.handleLoginSwitch.bind(Object(y.a)(n)),n.handleSignUpSwitch=n.handleSignUpSwitch.bind(Object(y.a)(n)),n.handleLogin=n.handleLogin.bind(Object(y.a)(n)),n.handleSignUp=n.handleSignUp.bind(Object(y.a)(n)),n.handleEmailVerification=n.handleEmailVerification.bind(Object(y.a)(n)),n.handlePasswordDisplay=n.handlePasswordDisplay.bind(Object(y.a)(n)),n.eye=E,n}return Object(d.a)(a,[{key:"handleLoginSwitch",value:function(){this.setState({isSwitch:!1})}},{key:"handleSignUpSwitch",value:function(){this.setState({isSwitch:!0})}},{key:"render",value:function(){var e={left:"700px"},t={left:"320px"},a={left:"0px"};this.state.isSwitch&&(e={left:"320px"},t={left:"700px"},a={left:"110px"});var s=this.state.isShowPassword?"text":"password";return Object(n.jsx)("div",{className:"popup",children:Object(n.jsx)("div",{className:"Hero",children:Object(n.jsxs)("div",{className:"form-box",children:[Object(n.jsx)("button",{style:{float:"right",outline:"none",position:"relative",border:"0",borderRadius:"50%"},type:"button",onClick:this.props.closePopup,children:"x"}),Object(n.jsx)("div",{className:"left-image-box"}),Object(n.jsxs)("div",{className:"button-box-li",children:[Object(n.jsx)("div",{style:a,id:"btn_li"}),Object(n.jsx)("button",{type:"button",className:"toggle-btn-li",onClick:this.handleLoginSwitch,children:"login"}),Object(n.jsx)("button",{type:"button",className:"toggle-btn-li",onClick:this.handleSignUpSwitch,children:"SignUp"})]}),Object(n.jsxs)("form",{style:t,className:"input-group_li",onSubmit:this.handleLogin,children:[Object(n.jsx)("input",{type:"text",className:"input-field",placeholder:"Email",required:"required",onChange:this.handleEmailChange}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("input",{type:s,className:"input-field-password",required:"required",placeholder:"Password",onChange:this.handlePasswordChange}),Object(n.jsx)("i",{className:"faeye",onClick:this.handlePasswordDisplay,children:this.eye}),Object(n.jsx)("span",{})]}),Object(n.jsx)("input",{type:"checkbox",className:"check-box",placeholder:"possword",onChange:this.handleRememberUser,checked:this.state.rememberUser}),Object(n.jsx)("strong",{className:"spanText",children:"Remember Me"}),Object(n.jsx)("br",{}),Object(n.jsx)("strong",{className:"spanText",children:"Do you forget your password ?"}),Object(n.jsx)("button",{type:"button",style:{color:"red",background:"white",border:"none",outline:"none !important"},onClick:this.props.onToggleEmailVerification,children:"reset"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",className:"sumbit-btn-li",children:"Login"})]}),Object(n.jsxs)("form",{style:e,className:"input-group_li",onSubmit:this.handleSignUp,children:[Object(n.jsx)("input",{type:"text",className:"input-field",placeholder:"Name",required:"required",onChange:this.handleUserNameChange}),Object(n.jsx)("input",{type:"email",className:"input-field",placeholder:"Email",required:"required",onChange:this.handleEmailChange}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("input",{type:s,className:"input-field-password",placeholder:"Password",required:"required",onChange:this.handlePasswordChange}),Object(n.jsx)("i",{className:"faeye",onClick:this.handlePasswordDisplay,children:this.eye}),Object(n.jsx)("span",{})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",className:"sumbit-btn-li",children:"SignUp"})]})]})})})}}]),a}(s.Component),L=a(599),D=a(110),M=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleCancel=function(){n.closeModal()},n.handleLogout=function(){N.dispatch({type:"unsetEmailAndUserName"}),localStorage.removeItem("ezcampus_user_password"),n.closeModal()},n.state={userName:"",show:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=N.getState().userName;this.closeModal=this.props.closePopup,this.setState({userName:e})}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(L.a,{show:!0,children:[Object(n.jsx)(L.a.Header,{children:Object(n.jsx)(L.a.Title,{children:this.state.userName})}),Object(n.jsx)(L.a.Body,{children:"Would you like to Log out?"}),Object(n.jsxs)(L.a.Footer,{children:[Object(n.jsx)(D.a,{variant:"secondary",onClick:this.handleCancel,children:"Cancel"}),Object(n.jsx)(D.a,{variant:"primary",onClick:this.handleLogout,children:"Log out"})]})]})})}}]),a}(s.Component),U=a(50);a(373),a(594),a(141);var R=a(58),z=a.n(R),B=(a(377),a(602)),V=a(607),F=a.p+"static/media/Logo.801f4796.jpeg";var G=function(e){return Object(n.jsx)("div",{className:"popup_email_li",children:Object(n.jsx)("div",{className:"Hero_email_li",children:Object(n.jsx)(B.a,{className:"center-mail-box-li-welcome",children:Object(n.jsxs)(V.a,{style:{width:"350px",borderRadius:"15px"},children:[Object(n.jsx)(V.a.Img,{style:{height:"250px",borderRadius:"15px"},variant:"top",src:F}),Object(n.jsxs)(V.a.Body,{children:[Object(n.jsx)(V.a.Title,{children:"Welcome back"}),Object(n.jsx)(D.a,{variant:"primary",onClick:e.close,children:"Go Log in"})]})]})})})})},H=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlerEmailInfo=function(e){e.preventDefault();var t=n.state,a=t.email,s=t.isEnterCode,i=t.isChangePassword,o=t.Password,c=t.RetypePassword,r=t.codeEmail,l=t.code;if(i)o!==c?R.notify.show("The password does not match, Please, re-enter!"):(console.log("HERE:",r,o,c),S.a.post("".concat(A,"/users/forget_password/reset_password"),{codeEmail:r,password:o}).then((function(e){200===e.data.statusCode&&n.setState({allSet:!0,RetypePassword:"",isChangePassword:!1})})).catch((function(e){if(console.log(e.response),e.response)switch(e.response.status){case 404:return void R.notify.show("unexpected Error,retry again ");case 403:return void R.notify.show("Your account have not verified");default:return}})));else if(s){console.log("Here is EnterCode: ",r,l);var d=parseInt(l);console.log(typeof d,d,r),S.a.get("".concat(A,"/users/forget_password/verify"),{params:{code:l,codeEmail:r}}).then((function(e){200===e.data.statusCode&&(R.notify.show("Chang your password"),n.setState({isChangePassword:!0,code:"",isEnterCode:!1},(function(){console.log(n.state.code)})))})).catch((function(e){if(console.log(e.response),e.response)switch(e.response.status){case 404:return void R.notify.show("Unpected error");case 403:return void R.notify.show("verification code incorrect");default:return}}))}else S.a.get("".concat(A,"/users/forget_password/send_email"),{params:{email:a}}).then((function(e){200===e.data.statusCode&&(n.setState({isEnterCode:!0,codeEmail:n.state.email,email:""},(function(){console.log(n.state.codeEmail)})),R.notify.show("Check your access code in your email"))})).catch((function(e){R.notify.show("invaild email, Please,retype again!")}))},n.state={email:" ",isEnterCode:!1,isChangePassword:!1,Password:"",RetypePassword:"",codeEmail:"",code:"",allSet:!1},n.handlerEmailInfo=n.handlerEmailInfo.bind(Object(y.a)(n)),n.handleEmailChange=n.handleEmailChange.bind(Object(y.a)(n)),n.HanderCodeChange=n.HanderCodeChange.bind(Object(y.a)(n)),n.handlerChangeNewPassword1=n.handlerChangeNewPassword1.bind(Object(y.a)(n)),n.handlerChangeNewPassword2=n.handlerChangeNewPassword2.bind(Object(y.a)(n)),n}return Object(d.a)(a,[{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"HanderCodeChange",value:function(e){this.setState({code:e.target.value})}},{key:"handlerChangeNewPassword1",value:function(e){this.setState({Password:e.target.value})}},{key:"handlerChangeNewPassword2",value:function(e){this.setState({RetypePassword:e.target.value})}},{key:"render",value:function(){return Object(n.jsx)("div",{children:this.state.allSet?Object(n.jsx)(G,{close:this.props.closePopup}):Object(n.jsx)("div",{className:"popup_email_li",children:Object(n.jsxs)("div",{className:"Hero_email_li",children:[Object(n.jsx)(z.a,{}),Object(n.jsxs)(B.a,{className:"center-mail-box-li",onSubmit:this.handlerEmailInfo,children:[Object(n.jsx)("button",{style:{float:"right",outline:"none",position:"relative",border:"0",borderRadius:"5px",margin:"2px 3px 0px 0px"},type:"button",onClick:this.props.closePopup,children:"x"}),Object(n.jsx)("br",{}),this.state.isChangePassword?Object(n.jsxs)("div",{children:[Object(n.jsxs)(B.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(B.a.Label,{style:{float:"left",padding:"5px 0px 5px 5px"},children:"Password"}),Object(n.jsx)(B.a.Control,{type:"password",placeholder:"Password",required:"required",onChange:this.handlerChangeNewPassword1})]}),Object(n.jsxs)(B.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(B.a.Label,{style:{float:"left",padding:"5px 0px 5px 5px"},children:"Re-type Password"}),Object(n.jsx)(B.a.Control,{type:"password",placeholder:"re-type your Password",required:"required",onChange:this.handlerChangeNewPassword2})]}),Object(n.jsx)(B.a.Text,{className:"text-muted",children:"We'll never share your email and password with anyone else."}),Object(n.jsx)("br",{})]}):Object(n.jsxs)(B.a.Group,{controlId:"formBasicEmail",children:[this.state.isEnterCode?Object(n.jsx)(B.a.Label,{style:{float:"left",padding:"5px 0px 5px 5px"},children:"Enter your code:"}):Object(n.jsx)(B.a.Label,{style:{float:"left",padding:"5px 0px 5px 5px"},children:"Email address:"}),this.state.isEnterCode?Object(n.jsx)(B.a.Control,{required:"required",type:"text",placeholder:"Enter 6 digit verification code",value:this.state.code,onChange:this.HanderCodeChange}):Object(n.jsx)(B.a.Control,{required:"required",value:this.state.email,type:"email",placeholder:"Enter your email",onChange:this.handleEmailChange}),Object(n.jsx)(B.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."}),Object(n.jsx)("br",{})]}),Object(n.jsx)(D.a,{variant:"outline-primary",type:"Submit",children:"submit"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})]})})})}}]),a}(s.Component),K=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleLater=function(){n.closePromptModal()},n.handleLogIn=function(){n.closePromptModal(),n.openLogin()},n.closePromptModal=e.closePrompt,n.openLogin=e.openLogin,n}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(L.a,{show:!0,children:[Object(n.jsx)(L.a.Body,{style:{paddingBottom:"10px"},children:Object(n.jsx)("p",{style:{textAlign:"center",fontFamily:"BasicSans",fontSize:"20px",color:"rgb(95, 98, 122)s"},children:"Please login/signup to proceed"})}),Object(n.jsxs)(L.a.Footer,{children:[Object(n.jsx)(D.a,{variant:"secondary",onClick:this.handleLater,children:"Later"}),Object(n.jsx)(D.a,{variant:"primary",onClick:this.handleLogIn,children:"Login/Signup"})]})]})}}]),a}(s.Component),Y=(u.a.Header,u.a.Content),X=(u.a.Footer,u.a.Sider),Z=(j.a.SubMenu,function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onTogglePopup=function(){console.log("TOGGLE POPUP!!!!!"),n.setState((function(e){return{showPopUPLogin:!e.showPopUPLogin}}))},n.onTogglePromptPopup=function(){n.setState((function(e){return{showPromptLogIn:!e.showPromptLogIn}}));N.dispatch({type:"unsetShowPromptLogIn"})},n.onToggleEmailVerification=function(){n.setState((function(e){return{showPopUPLogin:!e.showPopUPLogin,isEmailVerification:!e.isEmailVerification}}))},n.onCollapse=function(e){console.log(e),n.setState({collapsed:e})},n.onSelectMenuItem=function(e){var t=e.key;n.state.isLoggedIn||"1"==t||"2"==t?n.setState({currentSelectedMenuItem:t}):n.setState({currentSelectedMenuItem:"1"})},n.state={collapsed:!1,showPopUPLogin:!1,showPromptLogIn:!1,isEmailVerification:!1,userName:"Guest",avatarlink:"",isLoggedIn:!1,currentSelectedMenuItem:"1"},n.unsubscribe=N.subscribe((function(){var e=N.getState(),t=e.userName,a=e.isLoggedIn,s=e.showPromptLogIn,i=e.avatarlink;n.setState({userName:t,isLoggedIn:a,showPromptLogIn:s,avatarlink:i},(function(){n.state.isLoggedIn||n.setState({currentSelectedMenuItem:"1"})}))})),n}return Object(d.a)(a,[{key:"scomponentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.props.location;return Object(n.jsxs)(u.a,{style:{minHeight:"100vh"},children:[Object(n.jsxs)(X,{width:"283px",style:{height:"100vh",left:0,top:0,position:"sticky",textAlign:"center"},children:[Object(n.jsx)("div",{children:Object(n.jsx)(b.c,{to:"/profile",children:Object(n.jsx)("img",{src:this.state.avatarlink?this.state.avatarlink:v,style:{width:"78px",height:"78px",borderRadius:"39px",marginTop:"40px",marginBottom:"30px"},alt:"default profile pic"})})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(m.a,{id:"loginButton",type:"primary",style:{backgroundColor:"white",borderColor:"white",width:"167px",fontSize:"16px",fontFamily:"BasicSans",height:"34px",color:"black",marginBottom:"20px",display:"inline"},onClick:this.onTogglePopup,children:this.state.isLoggedIn?"Log out":"Log in / Sign up"}),this.state.showPopUPLogin&&!this.state.isLoggedIn?Object(n.jsx)(T,{closePopup:this.onTogglePopup,onToggleEmailVerification:this.onToggleEmailVerification}):null,this.state.showPopUPLogin&&this.state.isLoggedIn?Object(n.jsx)(M,{closePopup:this.onTogglePopup}):null,this.state.showPromptLogIn?Object(n.jsx)(K,{openLogin:this.onTogglePopup,closePrompt:this.onTogglePromptPopup}):null,this.state.isEmailVerification?Object(n.jsx)(H,{closePopup:this.onToggleEmailVerification}):null]}),Object(n.jsx)("div",{children:Object(n.jsx)(b.c,{to:"/posts/create",children:Object(n.jsx)(m.a,{type:"primary",style:{backgroundColor:"white",borderColor:"white",width:"167px",fontSize:"16px",fontFamily:"BasicSans",height:"34px",color:"black",marginBottom:"40px",textAlign:"center"},label:"Create post",children:"Create post"})})}),Object(n.jsxs)(j.a,{theme:"dark",selectedKeys:[e.pathname],defaultSelectedKeys:["/posts"],children:[Object(n.jsxs)(j.a.Item,{icon:Object(n.jsx)(x.a,{}),children:["Home",Object(n.jsx)(b.c,{to:"/posts"})]},"/posts"),Object(n.jsxs)(j.a.Item,{icon:Object(n.jsx)(g.a,{}),children:["Category",Object(n.jsx)(b.c,{to:"/groups"})]},"/groups"),Object(n.jsxs)(j.a.Item,{icon:Object(n.jsx)(f.a,{}),children:["My Posts",Object(n.jsx)(b.c,{to:"/posts/my"})]},"/posts/my"),Object(n.jsxs)(j.a.Item,{icon:Object(n.jsx)(O.a,{}),children:["Contacts",Object(n.jsx)(b.c,{to:{pathname:"/contacts",state:{from:this.props.location.pathname}}})]},"/contacts")]})]}),Object(n.jsx)(u.a,{className:"site-layout",children:Object(n.jsx)(Y,{style:{margin:"0 16px"},children:Object(n.jsx)("div",{children:this.props.routes})})})]})}}]),a}(i.a.Component)),W=Object(U.h)(Z),q=a(57),J=a(54),Q="data:image/png;base64,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",_=a(601),$="data:image/png;base64,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",ee=a(612);function te(){var e=Object(q.a)(["\n    background-color: #f5f6fa;\n    width: 100%;\n"]);return te=function(){return e},e}function ae(){var e=Object(q.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: start;\n  justify-content: space-around;\n  height: 100vh;\n"]);return ae=function(){return e},e}function ne(){var e=Object(q.a)(["\n  font-size: 25px;\n  display: flex;\n  align-items: center;\n  line-height: 24px;\n  font: BasicSans;\n  letter-spacing: 0;\n  margin-top: 15px;\n  color: #545871;\n  opacity: 1;\n  word-break: break-word;\n"]);return ne=function(){return e},e}function se(){var e=Object(q.a)(["\n  width: 78px;\n  height: 78px;\n  border-radius: 39px;\n"]);return se=function(){return e},e}function ie(){var e=Object(q.a)(["\n  display: inline-block;\n  margin: 0 5px 0 5px;\n  font-family: BasicSans;\n"]);return ie=function(){return e},e}var oe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={redirect:!1,profile:{}},s.renderRedirect=function(){if(s.state.redirect)return Object(n.jsx)(U.a,{to:"/profile/settings"})},s.history=e.history,s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){if(!N.getState().isLoading&&(clearInterval(t),!N.getState().isLoggedIn)){N.dispatch({type:"setShowPromptLogIn"}),e.history.push("/posts")}}),5);N.subscribe((function(){var t=setInterval((function(){N.getState().isLoading||(clearInterval(t),N.getState().isLoggedIn||e.history.push("/posts"))}),5)}));var a=setInterval((function(){if(!N.getState().isLoading){clearInterval(a);var t=N.getState().email;S.a.get("".concat(A,"/users/profile/get"),{params:{email:t}}).then((function(t){200===t.data.statusCode&&e.setState({profile:t.data.profile},(function(){}))}))}}),5)}},{key:"render",value:function(){var e=this;return Object(n.jsx)(he,{children:Object(n.jsxs)(de,{children:[this.renderRedirect(),Object(n.jsxs)(_.a,{style:{width:"60%"},headStyle:{background:"#DEE0EB"},extra:Object(n.jsx)(m.a,{style:pe.editButton,onClick:this.setRedirect=function(){e.setState({redirect:!0})},children:Object(n.jsx)(ee.a,{})}),children:[Object(n.jsx)("div",{style:pe.avatar,children:this.state.profile.avatarlink?Object(n.jsx)(re,{src:this.state.profile.avatarlink}):Object(n.jsx)(re,{src:Q})}),Object(n.jsx)("div",{style:pe.nameText,children:Object(n.jsx)(ce,{children:this.state.profile.userName})}),this.state.profile.city||this.state.profile.state?Object(n.jsxs)("div",{style:pe.positionText,children:[Object(n.jsx)(ce,{children:this.state.profile.city}),Object(n.jsx)(ce,{children:this.state.profile.state})]}):null,Object(n.jsxs)("div",{children:[Object(n.jsxs)(le,{children:[Object(n.jsx)("img",{src:$,alt:"contact",style:{width:23,height:23,marginRight:10}}),"About Me"]}),Object(n.jsx)("div",{style:pe.fieldText,children:this.state.profile.aboutMe})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)(le,{children:[Object(n.jsx)("img",{src:$,alt:"contact",style:{width:23,height:23,marginRight:10}}),"Contact Info"]}),Object(n.jsxs)("div",{style:pe.fieldText,children:["Contact Email:",Object(n.jsx)("div",{style:pe.text,children:this.state.profile.contactEmail})]}),Object(n.jsxs)("div",{style:pe.fieldText,children:["Phone:",Object(n.jsx)("div",{style:pe.text,children:this.state.profile.phone})]})]})]})]})})}}]),a}(i.a.Component),ce=J.a.div(ie()),re=J.a.img(se()),le=J.a.div(ne()),de=J.a.div(ae()),he=J.a.div(te()),pe={avatar:{justifyContent:"center",alignItems:"center",textAlign:"center"},text:{display:"inline-block",fontSize:"20px",marginLeft:"30px",color:"#666774"},fieldText:{color:"#666774",marginTop:"5px",fontSize:"20px"},editButton:{cursor:"pointer",textAlign:"center",color:"#ffffff",fontSize:"20px",backgroundColor:"#545871",borderRadius:"3px",height:"36px",width:"36px",border:"0px",padding:"0px"},nameText:{fontFamily:"Ubuntu",fontSize:"35px",fontWeight:"bold",textAlign:"center",color:"#545871",width:"100%",paddingTop:"5px"},positionText:{fontFamily:"Ubuntu",fontSize:"20px",fontWeight:"bold",textAlign:"center",color:"#545871",width:"100%",paddingTop:"5px"}},ue=oe,je=(a(158),a(131)),me=a.n(je),be=a(339),xe=Object(n.jsx)(I.a,{icon:P.i}),ge=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={visible:!1},n.handleClick=function(){console.log(n.postId);var e={type:"setCurrentVisitingPost",data:{post:n.data}};N.dispatch(e)},n.verifyDelete=function(){n.setState({visible:!0})},n.handleDelete=function(){n.props.onDelete(n.postId)},n.handleCancel=function(){n.setState({visible:!1})},n.history=e.history,n.data=n.props.data,n.postId=n.data.postId,n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.data,a=t.creatorName,s=t.creatorEmail,i=t.title,o=t.description,c=(t.views,t.likes,t.date),r=(t.postId,t.postType),l=t.avatarlink,d=N.getState().email;return Object(n.jsxs)("div",{className:"single-post-container",children:[Object(n.jsxs)("div",{className:"single-post-wrapper",children:[Object(n.jsxs)("div",{className:"single-post-header",children:[Object(n.jsx)("div",{style:{display:"inline-block"},children:Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)("div",{style:{display:"inline-flex"},children:Object(n.jsxs)(b.b,{to:"/profile/".concat(s),children:[Object(n.jsx)("div",{style:{display:"inline-block"},children:Object(n.jsx)("img",{src:l||v,style:{width:"40px",height:"40px",borderRadius:"39px",marginRight:"20px"},alt:"default profile pic"})}),Object(n.jsx)("div",{className:"single-post-creator",children:a||"unknown"})]})}),Object(n.jsx)("div",{className:"single-post-type",children:r})]})}),Object(n.jsxs)("span",{className:"single-post-date",children:[d===s?Object(n.jsxs)("div",{style:{display:"inline-block"},children:[Object(n.jsx)(b.b,{onClick:this.verifyDelete,children:Object(n.jsx)("i",{style:{paddingRight:"10px",color:"#07689f",fontSize:18},children:xe})}),Object(n.jsx)(be.a,{visible:this.state.visible,onOk:function(t){return e.handleDelete()},onCancel:this.handleCancel,children:Object(n.jsx)("p",{children:"are you sure to delete this post\uff1f"})})]}):null,c]})]}),Object(n.jsx)("div",{className:"single-post-title",children:i}),Object(n.jsx)("div",{className:"single-post-description-box",children:Object(n.jsx)("div",{className:"single-post-description-text",children:me()(o)})})]}),Object(n.jsx)("div",{className:"single-post-detailButton-box",children:Object(n.jsx)(b.b,{to:"/posts/".concat(this.postId),children:Object(n.jsx)(D.a,{variant:"light",className:"single-post-detailButton",onClick:this.handleClick,children:"View Details"})})})]})}}]),a}(s.Component),fe=a(596),Oe=a(337),ve=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleShowAll=function(){N.dispatch({type:"unsetCurrentPostType"}),s.setState({title_name:"Home"})},s.handleDelete=function(e){S.a.delete("".concat(A,"/posts/delete_a_post"),{params:{postId:e}}).then((function(t){if(200===t.data.statusCode){var a=s.state.posts.filter((function(t){return t.postId!==e}));s.setState({posts:a});var n={type:"setPosts",data:{posts:s.state.posts}};N.dispatch(n)}}))},s.handleClick=function(e){var t={type:"setSelectedPostType",data:{postType:e}};N.dispatch(t),s.history.push("/posts"),s.setState({title_name:e})},s.homeOutlinedHeader=function(){return Object(n.jsxs)("div",{style:{marginLeft:"35px",marginTop:"20px",marginBottom:"10px"},children:[Object(n.jsx)(x.a,{style:{fontSize:40,float:"left"}}),Object(n.jsx)("div",{className:"posts-homeOutLined",children:s.state.title_name}),Object(n.jsx)("div",{style:{float:"right",marginRight:"50px"},children:Object(n.jsxs)(fe.a,{variant:"secondary",id:"dropdown-button-drop-".concat("left"),drop:"left",title:"Category",children:[Object(n.jsx)(Oe.a.Item,{eventKey:"1",onClick:s.handleShowAll,children:"Show All"}),Object(n.jsx)(Oe.a.Item,{eventKey:"2",onClick:function(){s.handleClick("Free or For Sale")},children:"Free or For Sale"}),Object(n.jsx)(Oe.a.Item,{eventKey:"3",onClick:function(){s.handleClick("Ride Sharing")},children:"Ride Sharing"}),Object(n.jsx)(Oe.a.Item,{eventKey:"3",onClick:function(){s.handleClick("Cutie Pets")},children:"Cutie Pets"}),Object(n.jsx)(Oe.a.Item,{eventKey:"3",onClick:function(){s.handleClick("Housing")},children:"Housing"}),Object(n.jsx)(Oe.a.Item,{eventKey:"3",onClick:function(){s.handleClick("Entertainment")},children:"Entertainment"}),Object(n.jsx)(Oe.a.Item,{eventKey:"3",onClick:function(){s.handleClick("Others")},children:"Others"})]})})]})},s.createPostList=function(){return Object(n.jsx)("div",{className:"posts-container",children:s.state.posts.map((function(e){return Object(n.jsx)(ge,{data:e,history:s.props.history,onDelete:s.handleDelete},e.postId)}))})},s.history=e.history,s.state={posts:[],title_name:"Home"},s.unsubscribe=N.subscribe((function(){var e=N.getState(),t=e.posts,a=e.currentSelectedPostType;if(a){var n=t.filter((function(e){return e.postType==a}));console.log(n),console.log(a),s.setState({posts:n})}else s.setState({posts:t})})),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=N.getState(),t=e.posts,a=e.currentSelectedPostType;if(console.log("checking",a),a){var n=t.filter((function(e){return e.postType==a}));console.log(n),this.setState({posts:n,title_name:a})}else this.setState({posts:t})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"posts-header",children:this.homeOutlinedHeader()}),this.createPostList()]})}}]),a}(s.Component),ye=a(36),Ce=(a(259),a(260),a(102)),Se=a.n(Ce),we=(a(261),a(311),a(563),a(182)),ke=a.n(we),Ne=a(183),Ie=a.n(Ne),Pe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).updateTitle=function(e){s.setState({title:e.target.value})},s.updateType=function(e){console.log(e.target.value),s.setState({postType:e.target.value})},s.updateEditerComponentText=function(e){s.setState({description:e})},s.handleRedirect=function(){if(s.state.redirect)return Object(n.jsx)(U.a,{to:"/posts/".concat(s.state.postId)})},s.cancelPost=function(){s.setState({redirect:!0})},s.submitPost=function(){if(0!=N.getState().isLoggedIn)if(""!=s.state.title)if(""!=s.state.description){var e=N.getState(),t=e.userName,a=e.email,n=((new Date).toLocaleString("en-GB",{timeZone:"PST"}),ke()(),{postId:s.state.postId,postType:s.state.postType,title:s.state.title,description:s.state.description});s.setState({creatorName:t,creatorEmail:a},(function(){S.a.post("".concat(A,"/posts/update_a_post"),Object(ye.a)({},n)).then((function(e){200==e.data.statusCode&&(console.log("post has been updated"),s.setState({redirect:!0}))}))}))}else alert("Description cannot be empty");else alert("please enter a valid title");else alert("please signup/login first")},s.history=e.history,s.state={postId:s.props.location.state.data.postId,creatorEmail:s.props.location.state.data.creatorEmail,creatorName:s.props.location.state.data.creatorName,description:s.props.location.state.data.description,title:s.props.location.state.data.title,postType:s.props.location.state.data.postType,redirect:!1},console.log(s.props.location.state),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){if(!N.getState().isLoading&&(clearInterval(t),!N.getState().isLoggedIn)){N.dispatch({type:"setShowPromptLogIn"}),e.history.push("/posts")}}),5);N.subscribe((function(){var t=setInterval((function(){N.getState().isLoading||(clearInterval(t),N.getState().isLoggedIn||e.history.push("/posts"))}),5)}))}},{key:"render",value:function(){var e=this.state.description;return Object(n.jsxs)("div",{children:[this.handleRedirect(),Object(n.jsx)("br",{}),Object(n.jsx)("h2",{children:"Edit Post"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Title"})}),Object(n.jsx)("input",{type:"text",className:"form-control",value:this.state.title,onChange:this.updateTitle})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Category"})}),Object(n.jsxs)("select",{className:"form-control",id:"postCategory",value:this.state.postType,onChange:this.updateType,children:[Object(n.jsx)("option",{children:"Free or For Sale"}),Object(n.jsx)("option",{children:"Ride Sharing"}),Object(n.jsx)("option",{children:"Cutie Pets"}),Object(n.jsx)("option",{children:"Housing"}),Object(n.jsx)("option",{children:"Entertainment"}),Object(n.jsx)("option",{children:"Others"})]})]})]}),Object(n.jsxs)("div",{className:"create-post-text-area",children:[Object(n.jsx)("p",{children:Object(n.jsx)("strong",{children:"Description"})}),Object(n.jsx)(Se.a,{tag:"textarea",config:{placeholderText:"Write the details here!",imageDefaultWidth:500,imageUpload:!0,events:{"image.beforeUpload":function(e){var t=this,a=new Ie.a;return a.append("image",e[0]),S.a.post("https://api.imgur.com/3/image",a,{headers:{Authorization:"Client-ID c9897a7d288d020"}}).then((function(e){console.log(t),t.image.insert(e.data.data.link)})),!1},initialized:function(){console.log("editor initialized"),this.html.set(e),console.log(e)}},charCounterCount:!0},onModelChange:this.updateEditerComponentText})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{children:[Object(n.jsx)(D.a,{type:"button",id:"creat-post-cancel",className:"btn btn-secondary float-right btn-lg ml-3",onClick:this.cancelPost,children:Object(n.jsx)("strong",{children:"Cancel"})}),Object(n.jsx)(D.a,{type:"button",id:"creat-post-send",className:"btn btn-success float-right btn-lg",onClick:this.submitPost,children:Object(n.jsx)("strong",{children:"Update"})})]})]})}}]),a}(s.Component),Ae=(a(564),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).updateTitle=function(e){s.setState({title:e.target.value})},s.updateType=function(e){console.log(e.target.value),s.setState({postType:e.target.value})},s.updateEditerComponentText=function(e){s.setState({description:e})},s.handleRedirect=function(){if(s.state.redirect)return Object(n.jsx)(U.a,{to:"/posts"})},s.cancelPost=function(){s.setState({redirect:!0})},s.submitPost=function(){if(0!=N.getState().isLoggedIn)if(""!=s.state.title)if(""!=s.state.description){var e=N.getState(),t=e.userName,a=e.email,n=e.avatarlink,i=(new Date).toLocaleDateString(),o=(new Date).toLocaleTimeString(),c={date:"".concat(o,", ").concat(i),views:0,likes:0,postId:ke()()};s.setState({creatorName:t,creatorEmail:a},(function(){S.a.post("".concat(A,"/posts/create_a_post"),Object(ye.a)(Object(ye.a)({},s.state),c)).then((function(e){if(200==e.data.statusCode){console.log("post has been created");var t={type:"addPost",data:{newPost:Object(ye.a)(Object(ye.a)(Object(ye.a)({},s.state),c),{},{avatarlink:n})}};N.dispatch(t),s.setState({redirect:!0})}}))}))}else alert("Description cannot be empty.");else alert("Please enter a valid title.");else alert("Please signup/login first.")},s.history=e.history,s.state={creatorEmail:"",creatorName:"",description:"",title:"",postType:"Free or For Sale",redirect:!1},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){if(!N.getState().isLoading&&(clearInterval(t),!N.getState().isLoggedIn)){N.dispatch({type:"setShowPromptLogIn"}),e.history.push("/posts")}}),5);N.subscribe((function(){var t=setInterval((function(){N.getState().isLoading||(clearInterval(t),N.getState().isLoggedIn||e.history.push("/posts"))}),5)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[this.handleRedirect(),Object(n.jsx)("br",{}),Object(n.jsx)("h2",{children:"Create Post"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Title"})}),Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Please enter the title of this post.",onChange:this.updateTitle})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Category"})}),Object(n.jsxs)("select",{className:"form-control",id:"postCategory",onChange:this.updateType,children:[Object(n.jsx)("option",{children:"Others"}),Object(n.jsx)("option",{children:"Free or For Sale"}),Object(n.jsx)("option",{children:"Ride Sharing"}),Object(n.jsx)("option",{children:"Cutie Pets"}),Object(n.jsx)("option",{children:"Housing"}),Object(n.jsx)("option",{children:"Entertainment"})]})]})]}),Object(n.jsxs)("div",{className:"create-post-text-area",children:[Object(n.jsx)("p",{children:Object(n.jsx)("strong",{children:"Description"})}),Object(n.jsx)(Se.a,{tag:"textarea",config:{placeholderText:"Write the description here.",imageDefaultWidth:500,imageUpload:!0,events:{"image.beforeUpload":function(e){var t=this,a=new Ie.a;return a.append("image",e[0]),S.a.post("https://api.imgur.com/3/image",a,{headers:{Authorization:"Client-ID c9897a7d288d020"}}).then((function(e){console.log(t),t.image.insert(e.data.data.link)})),!1}},charCounterCount:!0},onModelChange:this.updateEditerComponentText})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{children:[Object(n.jsx)(D.a,{type:"button",id:"creat-post-cancel",className:"btn btn-secondary float-right btn-lg ml-3",onClick:this.cancelPost,children:Object(n.jsx)("strong",{children:"Cancel"})}),Object(n.jsx)(D.a,{type:"button",id:"creat-post-send",className:"btn btn-success float-right btn-lg",onClick:this.submitPost,children:Object(n.jsx)("strong",{children:"Send"})})]})]})}}]),a}(s.Component)),Ee=a(613),Te=a(614),Le=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={visible:!1},n.verifyDelete=function(){n.setState({visible:!0})},n.handleDelete=function(){n.props.onDelete(n.friendID),n.setState({visible:!1})},n.handleCancel=function(){n.setState({visible:!1})},n.sendIndividualEmail=function(){var e=" "+n.data.userEmail;window.open("mailto:"+e)},n.data=n.props.data,n.friendID=n.data.userEmail,n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.data.userName;return console.log(e),Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:this.data.avatarlink?this.data.avatarlink:v,style:{width:"50px",height:"50px",borderRadius:"39px",marginRight:"20px"},alt:"default profile pic"}),e,Object(n.jsxs)("div",{className:"friend-buttons",children:[Object(n.jsx)("div",{className:"friend-button-description",children:Object(n.jsx)(m.a,{shape:"circle",icon:Object(n.jsx)(Ee.a,{}),size:"30px",onClick:this.sendIndividualEmail})}),Object(n.jsxs)("div",{className:"friend-button-description",children:[Object(n.jsx)(m.a,{shape:"circle",icon:Object(n.jsx)(Te.a,{}),size:"30px",onClick:this.verifyDelete}),Object(n.jsx)(be.a,{visible:this.state.visible,onOk:this.handleDelete,onCancel:this.handleCancel,children:Object(n.jsxs)("p",{children:["Confirm to remove ",Object(n.jsx)("span",{style:{fontWeight:"bold"},children:e})," from contact?"]})})]})]})]})}}]),a}(s.Component),De=(a(565),a(597)),Me=function(){return Object(n.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor",children:[Object(n.jsx)("path",{d:"M99.096 315.634s-82.58-64.032-82.58-132.13c0-66.064 33.032-165.162 148.646-148.646 83.37 11.91 99.096 165.162 99.096 165.162l-165.162 115.614zM924.906 315.634s82.58-64.032 82.58-132.13c0-66.064-33.032-165.162-148.646-148.646-83.37 11.91-99.096 165.162-99.096 165.162l165.162 115.614z",fill:"#6B676E","p-id":"1143"}),Object(n.jsx)("path",{d:"M1024 561.548c0 264.526-229.23 429.42-512.002 429.42S0 826.076 0 561.548 283.96 66.064 512.002 66.064 1024 297.022 1024 561.548z",fill:"#FFEBD2","p-id":"1144"}),Object(n.jsx)("path",{d:"M330.324 842.126c0 82.096 81.34 148.646 181.678 148.646s181.678-66.55 181.678-148.646H330.324z",fill:"#E9D7C3","p-id":"1145"}),Object(n.jsx)("path",{d:"M644.13 611.098C594.582 528.516 561.55 512 512.002 512c-49.548 0-82.58 16.516-132.13 99.096-42.488 70.814-78.73 211.264-49.548 247.742 66.064 82.58 165.162 33.032 181.678 33.032 16.516 0 115.614 49.548 181.678-33.032 29.18-36.476-7.064-176.93-49.55-247.74z",fill:"#FFFFFF","p-id":"1146"}),Object(n.jsx)("path",{d:"M611.098 495.484c0-45.608 36.974-82.58 82.58-82.58 49.548 0 198.194 99.098 198.194 165.162s-79.934 144.904-148.646 99.096c-49.548-33.032-132.128-148.646-132.128-181.678zM412.904 495.484c0-45.608-36.974-82.58-82.58-82.58-49.548 0-198.194 99.098-198.194 165.162s79.934 144.904 148.646 99.096c49.548-33.032 132.128-148.646 132.128-181.678z",fill:"#6B676E","p-id":"1147"}),Object(n.jsx)("path",{d:"M512.002 726.622c-30.06 0-115.614 5.668-115.614 33.032 0 49.638 105.484 85.24 115.614 82.58 10.128 2.66 115.614-32.944 115.614-82.58-0.002-27.366-85.556-33.032-115.614-33.032z",fill:"#464655","p-id":"1148"}),Object(n.jsx)("path",{d:"M330.324 495.484m-33.032 0a33.032 33.032 0 1 0 66.064 0 33.032 33.032 0 1 0-66.064 0Z",fill:"#464655","p-id":"1149"}),Object(n.jsx)("path",{d:"M693.678 495.484m-33.032 0a33.032 33.032 0 1 0 66.064 0 33.032 33.032 0 1 0-66.064 0Z",fill:"#464655","p-id":"1150"})]})},Ue=function(e){return Object(n.jsx)(De.a,Object(ye.a)({component:Me},e))},Re=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={data:[]},s.handleDelete=function(e){N.getState().email;S.a.delete("".concat(A,"/users/contact/delete"),{params:{myEmail:s.myEmail,userEmail:e}}).then((function(t){if(200==t.data.statusCode){var a=s.state.data.filter((function(t){return t.userEmail!==e}));s.setState({data:a})}}))},s.createFriendList=function(){return Object(n.jsx)("div",{children:s.state.data.map((function(e){return Object(n.jsx)("div",{className:"friend-card-container",children:Object(n.jsx)(_.a,{style:{borderRadius:"10px"},children:Object(n.jsx)(Le,{data:e,onDelete:s.handleDelete})})},e.userEmail)}))})},s.data=s.state.data,s.history=e.history,s.myEmail=N.getState().email,s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){if(!N.getState().isLoading)if(clearInterval(t),N.getState().isLoggedIn){var a=N.getState().email;S.a.get("".concat(A,"/users/contact/get_contactList"),{params:{email:a}}).then((function(t){200===t.data.statusCode&&e.setState({data:t.data.contact})}))}else{N.dispatch({type:"setShowPromptLogIn"}),e.history.replace("/posts")}}),5)}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"friend-page",children:[Object(n.jsxs)("div",{className:"friends-page-header",children:[Object(n.jsx)("div",{className:"custom-icons-list",children:Object(n.jsx)(Ue,{style:{fontSize:"60px"}})}),Object(n.jsx)("p",{style:{fontSize:"25px",display:"inline-block"},children:"Contact List"})]}),Object(n.jsx)("div",{className:"friend-page-container",children:this.createFriendList()})]})}}]),a}(s.Component),ze=(a(566),Object(n.jsx)(I.a,{icon:P.c})),Be=Object(n.jsx)(I.a,{icon:P.d}),Ve=Object(n.jsx)(I.a,{icon:P.h}),Fe=Object(n.jsx)(I.a,{icon:P.g}),Ge=Object(n.jsx)(I.a,{icon:P.b}),He=Object(n.jsx)(I.a,{icon:P.a}),Ke=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClick=function(e){var t={type:"setSelectedPostType",data:{postType:e}};N.dispatch(t),n.history.push("/posts")},n.history=e.history,n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"body-section-li",children:Object(n.jsxs)("div",{className:"services-li",children:[Object(n.jsx)("h1",{className:"h1-li",children:"Pick your Favorite Category"}),Object(n.jsxs)("div",{className:"cen-li",children:[Object(n.jsxs)("div",{className:"service-li",onClick:function(){e.handleClick("Free or For Sale")},children:[Object(n.jsx)("i",{style:{color:"#3498bd",fontSize:"50px",marginBottom:" 50px"},children:ze}),Object(n.jsx)("h2",{className:"service-li-h2",children:"Free or For Sale"}),Object(n.jsx)("p",{className:"service-li-p",children:"Help you buy from and sell items to your friends and classmates,such as furniture, textbooks, and cloths, etc."})]}),Object(n.jsxs)("div",{className:"service-li",onClick:function(){e.handleClick("Ride Sharing")},children:[Object(n.jsx)("i",{style:{color:"#3498bd",fontSize:"50px",marginBottom:" 50px"},children:Be}),Object(n.jsx)("h2",{className:"service-li-h2",children:"Ride Sharing"}),Object(n.jsx)("p",{className:"service-li-p",children:"Meet other local commuters and travelers to arrange carpools and long-distance travel"})]}),Object(n.jsxs)("div",{className:"service-li",onClick:function(){e.handleClick("Cutie Pets")},children:[Object(n.jsx)("i",{style:{color:"#3498bd",fontSize:"50px",marginBottom:" 50px"},children:Ve}),Object(n.jsx)("h2",{className:"service-li-h2",children:"Cutie Pets"}),Object(n.jsx)("p",{className:"service-li-p",children:"Pet lovers & created by pet lovers themselves. Inviting your friends & family that love pets as well. "})]}),Object(n.jsxs)("div",{className:"service-li",onClick:function(){e.handleClick("Housing")},children:[Object(n.jsx)("i",{style:{color:"#3498bd",fontSize:"50px",marginBottom:" 50px"},children:Fe}),Object(n.jsx)("h2",{className:"service-li-h2",children:"Housing"}),Object(n.jsx)("p",{className:"service-li-p",children:"flexible monthly rentals,temporary stays, Looking for a roommate for your summer internship? "})]}),Object(n.jsxs)("div",{className:"service-li",onClick:function(){e.handleClick("Entertainment")},children:[Object(n.jsx)("i",{style:{color:"#3498bd",fontSize:"50px",marginBottom:" 50px"},children:Ge}),Object(n.jsx)("h2",{className:"service-li-h2",children:"Entertainment"}),Object(n.jsx)("p",{className:"service-li-p",children:"A land of stories of different calibre,help you with your love life, Be inspired, be entertained."})]}),Object(n.jsxs)("div",{className:"service-li",onClick:function(){e.handleClick("Others")},children:[Object(n.jsx)("i",{style:{color:"#3498bd",fontSize:"50px",marginBottom:" 50px"},children:He}),Object(n.jsx)("h2",{className:"service-li-h2",children:"Others"}),Object(n.jsx)("p",{className:"service-li-p",children:"To not limit all the possibilities, all the uncategorized posts can be present in this section."})]})]})]})})}}]),a}(s.Component),Ye=Object(n.jsx)(I.a,{icon:P.i}),Xe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={visible:!1},n.handleClick=function(){var e={type:"setCurrentVisitingPost",data:{post:n.data}};N.dispatch(e),n.history.push("/posts/".concat(n.postId))},n.verifyDelete=function(){n.setState({visible:!0})},n.handleDelete=function(){n.props.onDelete(n.postId)},n.handleCancel=function(){n.setState({visible:!1})},n.history=e.history,n.data=n.props.data,n.postId=n.data.postId,n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.data,a=t.creatorName,s=(t.creatorEmail,t.title),i=t.description,o=(t.views,t.likes,t.date),c=(t.postId,t.postType),r=N.getState().avatarlink;return Object(n.jsxs)("div",{className:"single-post-container",children:[Object(n.jsxs)("div",{className:"single-post-wrapper",children:[Object(n.jsxs)("div",{className:"single-post-header",children:[Object(n.jsx)("div",{style:{display:"inline-block"},children:Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:r||v,style:{width:"40px",height:"40px",borderRadius:"39px",marginRight:"20px"},alt:"default profile pic"})}),Object(n.jsx)("div",{className:"single-post-creator",children:a||"unknown"}),Object(n.jsx)("div",{className:"single-post-type",children:c})]})}),Object(n.jsxs)("span",{className:"single-post-date",children:[Object(n.jsxs)("div",{style:{display:"inline-block"},children:[Object(n.jsx)(b.b,{onClick:this.verifyDelete,children:Object(n.jsx)("i",{style:{paddingRight:"10px",color:"#07689f",fontSize:18},children:Ye})}),Object(n.jsx)(be.a,{visible:this.state.visible,onOk:function(t){return e.handleDelete()},onCancel:this.handleCancel,children:Object(n.jsx)("p",{children:"are you sure to delete this post\uff1f"})})]}),o]})]}),Object(n.jsx)("div",{className:"single-post-title",children:s}),Object(n.jsx)("div",{className:"single-post-description-box",children:Object(n.jsx)("div",{className:"single-post-description-text",children:me()(i)})})]}),Object(n.jsx)("div",{className:"single-post-detailButton-box",children:Object(n.jsx)(D.a,{variant:"light",className:"single-post-detailButton",onClick:this.handleClick,children:"View Details"})})]})}}]),a}(s.Component),Ze=a(615),We=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;Object(l.a)(this,a),(s=t.call(this,e)).state={myPosts:[]},s.handleDelete=function(e){S.a.delete("".concat(A,"/posts/delete_a_post"),{params:{postId:e}}).then((function(t){if(200===t.data.statusCode){var a={type:"deletePost",data:{targetPostId:e}};N.dispatch(a);var n=s.state.myPosts.filter((function(t){return t.postId!==e}));s.setState({myPosts:n})}}))},s.switcherOutlinedHeader=function(){return Object(n.jsxs)("div",{style:{marginLeft:"35px",marginTop:"20px"},children:[Object(n.jsx)(Ze.a,{style:{fontSize:40,float:"left"}}),Object(n.jsx)("div",{className:"posts-homeOutLined",children:"Post History"})]})},s.createPostList=function(){return Object(n.jsx)("div",{className:"posts-container",children:s.state.myPosts.map((function(e){return Object(n.jsx)(Xe,{data:e,history:s.props.history,onDelete:s.handleDelete},e.postId)}))})},s.history=e.history;var i=N.getState(),o=i.posts,c=i.email;return s.unsubscribe=N.subscribe((function(){var e=o.filter((function(e){return e.creatorEmail===c}));s.setState({myPosts:e})})),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){if(!N.getState().isLoading){var a=N.getState().isLoggedIn;if(clearInterval(t),!a){console.log("not logged in");N.dispatch({type:"setShowPromptLogIn"}),e.history.push("/posts")}}}),5),a=setInterval((function(){if(!N.getState().isLoading){clearInterval(a);var t=N.getState(),n=t.posts,s=t.email,i=n.filter((function(e){return e.creatorEmail===s}));e.setState({myPosts:i})}}),5)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"post-history-header",children:this.switcherOutlinedHeader()}),Object(n.jsx)("div",{className:"post-page-body-containe",children:this.createPostList()})]})}}]),a}(s.Component),qe=a(139),Je=a(83),Qe=a(605),_e=(a(567),a(568),a(598)),$e=a(314),et=Object(n.jsx)(I.a,{icon:P.i}),tt=Object(n.jsx)(I.a,{icon:P.e}),at={textAlign:"left",fontSize:"14px",height:"5px"},nt={float:"left",fontSize:"15px"},st={borderTop:"1px black solid",padding:"10px",overflow:"scroll"},it=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlerEditComment=function(){n.setState({isEditComment:!0})},n.handlerEditText=function(e){n.setState({editText:e.target.value})},n.handlerUpdateComment=function(){""==n.state.editText?alert("The comment can not be Empty"):n.setState({isEditComment:!1},(function(){n.props.updateComment(n.state.editText,n.props.item.commentId)}))},n.handlerUpdateCommentCancel=function(){n.setState({isEditComment:!1})},n.state={isEditComment:!1,editText:""},n.handlerEditComment=n.handlerEditComment.bind(Object(y.a)(n)),n.handlerEditText=n.handlerEditText.bind(Object(y.a)(n)),n.handlerUpdateComment=n.handlerUpdateComment.bind(Object(y.a)(n)),n.handlerUpdateCommentCancel=n.handlerUpdateCommentCancel.bind(Object(y.a)(n)),n}return Object(d.a)(a,[{key:"render",value:function(){var e=N.getState(),t=e.email;e.userName;return Object(n.jsxs)(V.a,{className:"Test-style-li",children:[Object(n.jsx)(V.a.Header,{style:{padding:"10px,10px,0px,10px"},children:Object(n.jsx)(V.a.Title,{style:at,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"CommentCell-name",children:Object(n.jsx)(b.b,{to:"/profile/".concat(this.props.item.email),children:this.props.item.userName})}),Object(n.jsxs)("div",{style:{float:"right"},children:[this.props.item.time," \xa0\xa0\xa0\xa0 ",this.props.item.date,"\xa0\xa0\xa0\xa0",this.props.item.email!=t?null:Object(n.jsx)("i",{style:{cursor:"pointer",color:"#016ba8"},onClick:this.handlerEditComment,children:tt}),"\xa0\xa0",this.props.item.email!=t?null:Object(n.jsx)("i",{onClick:this.props.delete,style:{float:"right",fontSize:"13px",color:"#016ba8",cursor:"pointer"},children:et})]})]})})}),this.state.isEditComment?Object(n.jsxs)(B.a,{children:[Object(n.jsx)(_e.a,{children:Object(n.jsx)($e.a,{onChange:this.handlerEditText,style:{resize:"none",height:"65px",borderRadius:"0px"},as:"textarea","aria-label":"With textarea",children:this.props.item.commentText})}),Object(n.jsx)(D.a,{onClick:this.handlerUpdateCommentCancel,style:{float:"right",margin:"1px 1px 1px 0px",background:"#016BA8"},children:"Cancel"}),Object(n.jsx)(D.a,{onClick:this.handlerUpdateComment,style:{float:"right",margin:"1px 1px 1px 0px",background:"#016BA8"},children:"Submit"})]}):Object(n.jsx)(V.a.Body,{style:st,children:Object(n.jsx)(V.a.Text,{style:nt,children:this.props.item.commentText})})]})}}]),a}(s.Component),ot=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlerTextChange=function(e){n.setState({commentText:e.target.value})},n.handlerDeleteComfirmation=function(e){console.log(e),n.setState({isDeleteConfirmation:!0,deleteId:e},(function(){console.log(n.state.isDeleteConfirmation)}))},n.handleSubmit=function(e){e.preventDefault();var t=(new Date).toLocaleDateString(),a=(new Date).toLocaleTimeString(),s=N.getState().email,i=n.state,o=i.postId,c=i.commentText;""===c?R.notify.show("Please enter a valid comment"):S.a.post("".concat(A,"/posts/updateTheCommentList"),{postId:o,email:s,commentText:c,date:t,time:a}).then((function(e){200===e.data.statusCode&&(R.notify.show("Add your comment Successfully"),n.setState({commentText:""},(function(){n.componentDidMount()})))})).catch((function(e){if(e.response){var t=e.response;404===t.status&&(console.log(t.data),alert(t.data.message))}}))},n.handlerDeleteComment=function(e){S.a.delete("".concat(A,"/posts/deleteTheComment"),{params:{postId:n.state.postId,commentId:e}}).then((function(t){200===t.status&&(R.notify.show("Delete Successfully"),n.setState({commentList:n.state.commentList.filter((function(t){return t.commentId!==e})),isDeleteConfirmation:!1},(function(){})))})).catch((function(e){if(e.response){var t=e.response;404===t.status&&(n.setState({isDeleteConfirmation:!1}),alert(t.data.message))}}))},n.handlerUpdateComment=function(e,t){console.log("what",e,t),R.notify.show("Edit Successfully"),S.a.post("https://server.metaraw.world/posts/updateTheComment",{postId:n.state.postId,commentId:t,commentText:e}).then((function(e){200===e.status&&(n.componentDidMount(),R.notify.show("Update successful"))}))},n.state={commentList:[],commentText:"",postId:n.props.history.location.pathname.slice(7),isDeleteConfirmation:!1,deleteId:" "},n.handlerTextChange=n.handlerTextChange.bind(Object(y.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){N.getState().isLoading||(clearInterval(t),S.a.get("".concat(A,"/posts/fetchTheCommentList"),{params:{postId:e.state.postId}}).then((function(t){200===t.data.statusCode&&(console.log(t.data),e.setState({commentList:t.data.commentList}))})))}),5)}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("form",{className:"comment-li",onSubmit:this.handleSubmit,children:[Object(n.jsx)(z.a,{}),Object(n.jsx)("textarea",{type:"text",value:this.state.commentText,className:"box-li",placeholder:"Write a comment",onChange:this.handlerTextChange}),Object(n.jsx)("button",{className:"primaryContained-li",type:"submit",children:"Add Comment"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),null==this.state.commentList?null:this.state.commentList.map((function(t){return Object(n.jsx)(it,{delete:e.handlerDeleteComfirmation.bind(e,t.commentId),updateComment:e.handlerUpdateComment.bind(e),history:e.props.history,item:t},t.commentId)})).reverse(),Object(n.jsx)(be.a,{visible:this.state.isDeleteConfirmation,onOk:this.handlerDeleteComment.bind(this,this.state.deleteId),onCancel:function(){e.setState({isDeleteConfirmation:!1})},children:Object(n.jsxs)("p",{children:["Confirm to remove ",Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"your comment"})," from comment board?"]})})]})}}]),a}(s.Component),ct=a(616);function rt(){var e=Object(q.a)(["\n  font-family: BasicSans;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  text-align: left;\n  color: #545871;\n  display: inline-block;\n  margin-top: 20px;\n  word-break: break-word;\n"]);return rt=function(){return e},e}var lt=Object(n.jsx)(I.a,{icon:P.e}),dt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=N.getState().email;S.a.post("".concat(A,"/posts/like/like"),{email:e,postId:n.postId}).then((function(e){200===e.data.statusCode&&n.setState({liked:!0,likeNumber:n.state.likeNumber+1})}))},n.checkLike=function(){var e=setInterval((function(){if(!N.getState().isLoading){clearInterval(e);var t=N.getState(),a=t.isLoggedIn,s=t.email;a&&S.a.get("".concat(A,"/posts/like/check"),{params:{postId:n.postId,email:s}}).then((function(e){200===e.data.statusCode&&n.setState({liked:e.data.exist},(function(){}))}))}}),5)},n.getLikes=function(){S.a.get("".concat(A,"/posts/like/number"),{params:{postId:n.postId}}).then((function(e){200===e.data.statusCode&&n.setState({likeNumber:e.data.likeNumber},(function(){}))}))},n.postId=e.history.location.pathname.slice(7),n.history=e.history,n.state={data:{creatorName:"",creatorEmail:"",title:"",description:"",views:0,likes:0,date:"",postId:"",postType:"",avatarlink:""},liked:!1,likeNumber:0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getLikes(),this.checkLike();var t=setInterval((function(){if(!N.getState().isLoading)if(clearInterval(t),N.getState().isLoggedIn)S.a.get("".concat(A,"/posts/get_a_post_detail"),{params:{postId:e.postId}}).then((function(t){var a=t.data.data;e.setState({data:a})})).catch((function(e){console.log(e)}));else{N.dispatch({type:"setShowPromptLogIn"}),e.history.replace("/posts")}}),5);N.subscribe((function(){var t=setInterval((function(){N.getState().isLoading||(clearInterval(t),N.getState().isLoggedIn||e.history.push("/posts"))}),5)}))}},{key:"render",value:function(){var e=N.getState().email;return Object(n.jsxs)("div",{children:[Object(n.jsxs)(_.a,{style:{width:"100%"},children:[Object(n.jsxs)(qe.a,{align:"middle",children:[Object(n.jsx)(b.b,{to:"/profile/".concat(this.state.data.creatorEmail),children:Object(n.jsx)(Je.a,{flex:"0 1",style:{margin:"5px"},children:Object(n.jsx)(Qe.a,{size:50,src:this.state.data.avatarlink?this.state.data.avatarlink:"data:image/png;base64,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",alt:""})})}),Object(n.jsx)(b.b,{to:"/profile/".concat(this.state.data.creatorEmail),children:Object(n.jsx)(Je.a,{flex:"2 1",style:{margin:"5px"},children:Object(n.jsx)("span",{style:ht.nameText,children:this.state.data.creatorName})})}),e===this.state.data.creatorEmail?Object(n.jsx)(Je.a,{children:Object(n.jsx)(b.b,{to:{pathname:"/posts/edit",state:{data:this.state.data}},children:lt})}):null,Object(n.jsxs)(Je.a,{flex:"1 1",style:{textAlign:"right",margin:"5px"},children:[Object(n.jsxs)("span",{style:ht.likesText,children:[Object(n.jsx)(ct.a,{style:ht.likeIcon}),"Likes: ",this.state.likeNumber]}),Object(n.jsx)("span",{style:ht.timeText,children:this.state.data.date})]})]}),Object(n.jsx)(Je.a,{span:24,children:Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",overflowY:"auto",fontFamily:"BasicSans",paddingTop:"25px"},children:[Object(n.jsxs)("div",{style:ht.postTitle,children:[" ",this.state.data.title," "]}),Object(n.jsx)("style",{type:"text/css"})]})}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",overflowY:"auto"},children:[Object(n.jsx)("div",{class:"postText",children:Object(n.jsx)(pt,{children:me()(this.state.data.description)})}),Object(n.jsx)("style",{type:"text/css"})]}),!0===this.state.liked?Object(n.jsxs)(m.a,{disabled:!0,style:ht.liked,children:["Liked",Object(n.jsx)(ct.a,{style:ht.likeIcon})]}):Object(n.jsxs)(m.a,{onClick:this.handleClick,children:["Like this Post",Object(n.jsx)(ct.a,{style:ht.likeIcon})]})]}),Object(n.jsx)(ot,{history:this.props.history})]})}}]),a}(i.a.Component),ht={nameText:{fontFamily:"BasicSans",fontWeight:"bold",fontSize:20,color:"#545871",verticalAlign:"middle",textAlign:"center",display:"inline-block"},timeText:{fontFamily:"BasicSans",fontWeight:"300",fontSize:"12",color:"#808295"},likeIcon:{marginTop:"-5px",marginRight:"5px"},likesText:{fontFamily:"BasicSans",fontWeight:"300",fontSize:"16px",marginRight:"25px",color:"#808295"},postTitle:{fontFamily:"BasicSans",fontSize:26,fontWeight:"bold",textAlign:"left",color:"#545871"},liked:{backgroundColor:"#d3d3d3"}},pt=J.a.div(rt()),ut=dt,jt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).history=e.history,n}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(ut,{history:this.props.history})})}}]),a}(i.a.Component),mt=a(227),bt=a.n(mt),xt=a(325),gt=a(344),ft=a(603),Ot=a(604),vt=a(600),yt=a(335),Ct=a(617),St=a(618);function wt(){var e=Object(q.a)(["\n  height: 24px;\n  font-family: BasicSans;\n  font-size: 13px;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: 1.6;\n  letter-spacing: normal;\n  text-align: left;\n  color: #ff5c5c;\n  display: inline-block;\n  vertical-align: top;\n"]);return wt=function(){return e},e}function kt(){var e=Object(q.a)(["\n  font-family: BasicSans;\n  font-size: 20px;\n  color: #545870;\n"]);return kt=function(){return e},e}function Nt(){var e=Object(q.a)(["\n  color: #545871;\n  font-family: BasicSans;\n  font-size: 20px;\n  font-weight: Bold;\n  margin-top: 30px;\n  margin-bottom: 15px;\n"]);return Nt=function(){return e},e}var It=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={tempUser:{userName:"",city:"",state:"",loginEmail:"",contactEmail:"",phone:"",aboutMe:"",avatarlink:""},editing:!0,file:null,userNameEmpty:!0,loading:!0,avatar:null,loadingAvatar:!1,USstates:["AL","AK","AZ","AR","CA","CO","CT","DC","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]},n.validateAvatar=function(e){return"image/jpeg"!==e.type&&"image/png"!==e.type?(gt.b.error("Avatar image has to be in JPEG or PNG format"),!1):!(e.size>5242880)||(gt.b.error("Avatar image has to be smaller than 5MB"),!1)},n.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",(function(e){n.compressAvatar(e.target.result,t)})),a.readAsDataURL(e)},n.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&n.getBase64(e.file.originFileObj,(function(e,t){return S.a.post("https://api.imgur.com/3/image",t,{headers:{Authorization:"Client-ID c9897a7d288d020"}}).then((function(e){console.log(e.data.data.link),n.setState((function(a){return{avatar:t,loadingAvatar:!1,tempUser:Object(ye.a)(Object(ye.a)({},a.tempUser),{},{avatarlink:e.data.data.link})}}))}))})):n.setState({loadingAvatar:!0})},n.nameInSize=function(){return n.state.tempUser.userName.length<=20},n.saveAll=Object(xt.a)(bt.a.mark((function e(){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.nameInSize()){e.next=3;break}return gt.b.warning("Name is too long, please double check or put a nickname. "),e.abrupt("return");case 3:if(0!==n.state.tempUser.userName.length){e.next=6;break}return gt.b.warning("Username can't be empty. "),e.abrupt("return");case 6:S.a.post("".concat(A,"/users/profile/save"),Object(ye.a)({},n.state.tempUser)).then((function(e){if(200===e.data.statusCode){console.log("profile has been saved");var t={type:"setEmailAndUserName",data:{userName:n.state.tempUser.userName,email:n.state.tempUser.loginEmail,avatarlink:n.state.tempUser.avatarlink}};N.dispatch(t)}n.setState({editing:!1})}));case 7:case"end":return e.stop()}}),e)}))),n.saveAll=n.saveAll.bind(Object(y.a)(n)),n}return Object(d.a)(a,[{key:"compressAvatar",value:function(e,t){var a=new Image;a.onload=function(){var e=document.createElement("canvas");e.width=e.width>150?150:e.width,e.height=e.height>150?150:e.height,e.getContext("2d").drawImage(a,0,0,e.width,e.height),e.toBlob((function(a){t(e.toDataURL("image/jpeg",.5),a)}),"image/jpeg",.5)},a.src=e}},{key:"componentDidMount",value:function(){var e=this,t=N.getState().email;this.setState((function(e){return{tempUser:Object(ye.a)(Object(ye.a)({},e.tempUser),{},{loginEmail:t})}})),S.a.get("".concat(A,"/users/profile/get"),{params:{email:t}}).then((function(t){200===t.data.statusCode&&e.setState({tempUser:t.data.profile},(function(){}))}))}},{key:"render",value:function(){var e=this;if(!this.state.editing)return Object(n.jsx)(U.a,{to:{pathname:"/profile"}});var t=ft.a.Option,a=Ot.a.TextArea;return Object(n.jsxs)("div",{children:[Object(n.jsx)(qe.a,{children:Object(n.jsx)(Pt,{children:"Basic Information"})}),Object(n.jsxs)(qe.a,{type:"flex",justify:"start",gutter:[24,40],children:[Object(n.jsxs)(Je.a,{xs:24,sm:24,md:24,lg:6,xl:6,style:{maxHeight:"90px"},children:[Object(n.jsxs)(At,{children:["Username",Object(n.jsxs)(Et,{children:["\xa0","*"]})]}),Object(n.jsx)(Ot.a,{style:{height:"80%"},placeholder:this.state.tempUser.userName,value:this.state.tempUser.userName,onChange:function(t){e.setState({userNameEmpty:""===t.target.value}),e.setState((function(e){return{tempUser:Object(ye.a)(Object(ye.a)({},e.tempUser),{},{userName:t.target.value})}}))}})]}),Object(n.jsx)(Je.a,{xs:24,sm:24,md:24,lg:3,xl:3,style:{maxHeight:"90px"},children:Object(n.jsx)(At,{children:"Avatar"})}),Object(n.jsx)(Je.a,{xs:24,sm:24,md:24,lg:6,xl:6,style:{maxHeight:"90px",padding:"0px",marginTop:"25px"},children:Object(n.jsx)(yt.a,{children:Object(n.jsx)(vt.a,{style:{width:"50px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:this.validateAvatar,transformFile:this.compressAvatar,onChange:this.handleChange,children:this.state.loadingAvatar?Object(n.jsx)(Ct.a,{}):this.state.tempUser.avatarlink?Object(n.jsx)("img",{src:this.state.tempUser.avatarlink,alt:"avatar",style:{width:"100%"}}):Object(n.jsxs)("div",{children:[Object(n.jsx)(St.a,{}),Object(n.jsx)("div",{className:"ant-upload-text",children:"Upload"})]})})})})]}),Object(n.jsxs)(qe.a,{type:"flex",justify:"start",gutter:[24,40],children:[Object(n.jsxs)(Je.a,{xs:12,sm:12,md:12,lg:6,xl:6,style:{maxHeight:"90px"},children:[Object(n.jsx)(At,{children:"City"}),Object(n.jsx)(Ot.a,{style:{height:"80%"},placeholder:this.state.tempUser.city,value:this.state.tempUser.city,onChange:function(t){e.setState((function(e){return{tempUser:Object(ye.a)(Object(ye.a)({},e.tempUser),{},{city:t.target.value})}}))}})]}),Object(n.jsxs)(Je.a,{xs:12,sm:12,md:12,lg:6,xl:6,style:{maxHeight:"90px"},children:[Object(n.jsx)(At,{children:"State"}),Object(n.jsx)("div",{children:Object(n.jsx)(ft.a,{style:{width:"100%"},size:"large",defaultValue:this.stateDefault,onChange:function(t){e.setState((function(e){return{tempUser:Object(ye.a)(Object(ye.a)({},e.tempUser),{},{state:t})}}))},children:this.state.USstates.map((function(e){var a=1;return Object(n.jsx)(t,{value:e,index:a++,children:e})}))})})]})]}),Object(n.jsx)(qe.a,{children:Object(n.jsx)(Pt,{children:"Contact"})}),Object(n.jsxs)(qe.a,{type:"flex",justify:"start",gutter:[24,40],children:[Object(n.jsxs)(Je.a,{xs:24,sm:24,md:24,lg:12,xl:12,style:{maxHeight:"90px"},children:[Object(n.jsx)(At,{children:"Login Email"}),Object(n.jsx)(Ot.a,{style:{height:"80%"},value:this.state.tempUser.loginEmail,disabled:!0})]}),Object(n.jsxs)(Je.a,{xs:24,sm:24,md:24,lg:12,xl:12,style:{maxHeight:"90px"},children:[Object(n.jsx)(At,{children:"Contact Email"}),Object(n.jsx)(Ot.a,{style:{height:"80%"},value:this.state.tempUser.contactEmail,onChange:function(t){e.setState((function(e){return{tempUser:Object(ye.a)(Object(ye.a)({},e.tempUser),{},{contactEmail:t.target.value})}}))}})]})]}),Object(n.jsx)(qe.a,{type:"flex",justify:"start",gutter:[24,40],children:Object(n.jsxs)(Je.a,{xs:24,sm:24,md:24,lg:12,xl:12,style:{maxHeight:"90px"},children:[Object(n.jsx)(At,{children:"Phone"}),Object(n.jsx)(Ot.a,{style:{height:"80%"},placeholder:this.state.tempUser.phone,value:this.state.tempUser.phone,onChange:function(t){e.setState((function(e){return{tempUser:Object(ye.a)(Object(ye.a)({},e.tempUser),{},{phone:t.target.value})}}))}})]})}),Object(n.jsxs)(qe.a,{children:[Object(n.jsx)(Pt,{children:"About Me"}),Object(n.jsx)(a,{rows:4,placeholder:this.state.tempUser.aboutMe,value:this.state.tempUser.aboutMe,onChange:function(t){e.setState((function(e){return{tempUser:Object(ye.a)(Object(ye.a)({},e.tempUser),{},{aboutMe:t.target.value})}}))}})]}),Object(n.jsx)(qe.a,{gutter:[24,8],children:Object(n.jsx)(Je.a,{span:6,style:{maxHeight:"90px"},children:Object(n.jsx)(m.a,{type:"",style:{height:"35px",marginTop:"25px",width:"100%",maxWidth:140,backgroundColor:"#545770",color:"white"},onClick:this.saveAll,children:"Save"})})})]})}}]),a}(i.a.Component),Pt=J.a.div(Nt()),At=J.a.div(kt()),Et=J.a.div(wt()),Tt=It;function Lt(e){var t=e.children,a=Object(U.g)();Object(s.useEffect)((function(){var e=localStorage.getItem("ezcampus_user_email"),t=localStorage.getItem("ezcampus_user_password");e&&t&&i(e,t);var n=N.subscribe((function(){setTimeout((function(){var e=N.getState().isLoggedIn;console.log("we are currently at ".concat(a.location.pathname)),e||"/contacts"!=a.location.pathname&&"/posts/my"!=a.location.pathname||(console.log(a.location),a.replace("/posts"))}),200)}));return function(){n()}}),[]);var i=function(e,t){N.dispatch({type:"setIsLoading",data:{isLoading:!0}}),S.a.post("".concat(A,"/users/email_login"),{email:e,password:t}).then((function(e){if(console.log("auto logging in"),200==e.data.statusCode){var t={type:"setEmailAndUserName",data:{email:e.data.user.email,userName:e.data.user.userName,avatarlink:e.data.user.avatarlink,isLoading:!1}};N.dispatch(t)}})).catch((function(e){console.log(e);N.dispatch({type:"setIsLoading",data:{isLoading:!1}})}))};return Object(n.jsx)("div",{children:t})}function Dt(e){var t=e.children;return Object(s.useEffect)((function(){S.a.get("".concat(A,"/posts/get_all_posts")).then((function(e){for(var t={},a=e.data.data,n=0;n<e.data.data.length;n++){var s=a[n];t[s.postId]=s}var i={type:"setPosts",data:{posts:a,postsMap:t}};N.dispatch(i)}))}),[]),Object(n.jsx)("div",{children:t})}function Mt(){var e=Object(q.a)(["\n    background-color: #f5f6fa;\n    width: 100%;\n"]);return Mt=function(){return e},e}function Ut(){var e=Object(q.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: start;\n  justify-content: space-around;\n  height: 100vh;\n"]);return Ut=function(){return e},e}function Rt(){var e=Object(q.a)(["\n  font-size: 25px;\n  display: flex;\n  align-items: center;\n  line-height: 24px;\n  font: BasicSans;\n  letter-spacing: 0;\n  margin-top: 15px;\n  color: #545871;\n  opacity: 1;\n  word-break: break-word;\n"]);return Rt=function(){return e},e}function zt(){var e=Object(q.a)(["\n  width: 78px;\n  height: 78px;\n  border-radius: 39px;\n"]);return zt=function(){return e},e}function Bt(){var e=Object(q.a)(["\n  display: inline-block;\n  margin: 0 5px 0 5px;\n  font-family: BasicSans;\n"]);return Bt=function(){return e},e}var Vt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={profile:{},contactM:""},n.handleAddOrRemoveContact=function(){"Add to Contact"===n.state.contactM?n.handleAddToContact():n.handleDeleteContact()},n.handleAddToContact=function(){var e=N.getState().email,t=n.props.match.params.userId;S.a.post("".concat(A,"/users/contact/add_a_contact"),{myEmail:e,userEmail:t}).then((function(e){200===e.data.statusCode&&n.setState({contactM:"Remove Contact"})})).catch((function(e){console.log(e)}))},n.handleDeleteContact=function(){var e=n.props.match.params.userId,t=N.getState().email;S.a.delete("".concat(A,"/users/contact/delete"),{params:{myEmail:t,userEmail:e}}).then((function(e){200===e.data.statusCode&&n.setState({contactM:"Add to Contact"})}))},n.history=e.history,n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){if(!N.getState().isLoading&&(clearInterval(t),!N.getState().isLoggedIn)){console.log("not logged in");N.dispatch({type:"setShowPromptLogIn"}),e.history.push("/posts")}}),5);N.subscribe((function(){var t=setInterval((function(){N.getState().isLoading||(clearInterval(t),N.getState().isLoggedIn||e.history.push("/posts"))}),5)}));var a=setInterval((function(){if(!N.getState().isLoading){clearInterval(a);var t=N.getState().email,n=e.props.match.params.userId;t!==n&&S.a.get("".concat(A,"/users/profile/get"),{params:{email:n,userEmail:t}}).then((function(t){200===t.data.statusCode&&(e.setState({profile:t.data.profile},(function(){})),t.data.isInContacts?e.setState({contactM:"Remove Contact"}):e.setState({contactM:"Add to Contact"}))}))}}),5)}},{key:"render",value:function(){return this.props.match.params.userId===N.getState().email?Object(n.jsx)(U.a,{to:{pathname:"/profile"}}):Object(n.jsx)(Yt,{children:Object(n.jsx)(Kt,{children:Object(n.jsxs)(_.a,{style:{width:"60%"},headStyle:{background:"#DEE0EB"},children:[Object(n.jsx)("div",{style:Xt.avatar,children:this.state.profile.avatarlink?Object(n.jsx)(Gt,{src:this.state.profile.avatarlink}):Object(n.jsx)(Gt,{src:Q})}),Object(n.jsx)("div",{style:Xt.nameText,children:Object(n.jsx)(Ft,{children:this.state.profile.userName})}),this.state.profile.city||this.state.profile.state?Object(n.jsxs)("div",{style:Xt.positionText,children:[Object(n.jsx)(Ft,{children:this.state.profile.city}),Object(n.jsx)(Ft,{children:this.state.profile.state})]}):null,Object(n.jsx)("div",{style:Xt.positionText,children:Object(n.jsx)(m.a,{type:"",style:{height:"35px",marginTop:"5px",width:"140px",backgroundColor:"#545770",color:"white"},onClick:this.handleAddOrRemoveContact,children:this.state.contactM})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)(Ht,{children:[Object(n.jsx)("img",{src:$,alt:"contact",style:{width:23,height:23,marginRight:10}}),"About Me"]}),Object(n.jsx)("div",{style:Xt.fieldText,children:this.state.profile.aboutMe})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)(Ht,{children:[Object(n.jsx)("img",{src:$,alt:"contact",style:{width:23,height:23,marginRight:10}}),"Contact Info"]}),Object(n.jsxs)("div",{style:Xt.fieldText,children:["Contact Email:",Object(n.jsx)("div",{style:Xt.text,children:this.state.profile.contactEmail})]}),Object(n.jsxs)("div",{style:Xt.fieldText,children:["Phone:",Object(n.jsx)("div",{style:Xt.text,children:this.state.profile.phone})]})]})]})})})}}]),a}(i.a.Component),Ft=J.a.div(Bt()),Gt=J.a.img(zt()),Ht=J.a.div(Rt()),Kt=J.a.div(Ut()),Yt=J.a.div(Mt()),Xt={avatar:{justifyContent:"center",alignItems:"center",textAlign:"center"},text:{display:"inline-block",fontSize:"20px",marginLeft:"30px",color:"#666774"},fieldText:{color:"#666774",marginTop:"5px",fontSize:"20px"},nameText:{fontFamily:"Ubuntu",fontSize:"35px",fontWeight:"bold",textAlign:"center",color:"#545871",width:"100%",paddingTop:"5px"},positionText:{fontFamily:"Ubuntu",fontSize:"20px",fontWeight:"bold",textAlign:"center",color:"#545871",width:"100%",paddingTop:"5px"}},Zt=Object(U.h)(Vt);var Wt=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=(t[0],t[1]);return Object(s.useEffect)((function(){var e=N.subscribe((function(){var e=N.getState().isLoggedIn;a(e)}));return function(){e()}}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(b.a,{children:Object(n.jsx)(Dt,{children:Object(n.jsx)(Lt,{children:Object(n.jsx)(W,{routes:Object(n.jsx)("div",{children:Object(n.jsxs)(U.d,{children:[Object(n.jsx)(U.b,{exact:!0,path:"/",component:function(){return Object(n.jsx)(U.a,{to:{pathname:"/posts"}})}}),Object(n.jsx)(U.b,{exact:!0,path:"/profile",component:ue}),Object(n.jsx)(U.b,{exact:!0,path:"/posts",component:ve}),Object(n.jsx)(U.b,{exact:!0,path:"/posts/my",component:We}),Object(n.jsx)(U.b,{exact:!0,path:"/posts/create",component:Ae}),Object(n.jsx)(U.b,{exact:!0,path:"/posts/edit",component:Pe}),Object(n.jsx)(U.b,{exact:!0,path:"/profile/settings",component:Tt}),Object(n.jsx)(U.b,{exact:!0,path:"/message"}),Object(n.jsx)(U.b,{exact:!0,path:"/groups",component:Ke}),Object(n.jsx)(U.b,{exact:!0,path:"/contacts",component:Re}),Object(n.jsx)(U.b,{path:"/posts/:postId",component:jt}),Object(n.jsx)(U.b,{path:"/profile/:userId",component:Zt})]})})})})})})})};c.a.render(Object(n.jsx)(Wt,{}),document.getElementById("root"))}},[[589,1,2]]]);
//# sourceMappingURL=main.0d8e6a6f.chunk.js.map